(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,t,a){e.exports={P181031:"P181031_P181031__2CenW",ywFullyear:"P181031_ywFullyear__XT9Xl",ywGengo:"P181031_ywGengo__VbWos",ywYear:"P181031_ywYear__1h2QU",ywYrDiff:"P181031_ywYrDiff__271_S",yw60:"P181031_yw60__1KxVl",yw60kun:"P181031_yw60kun__3RNe8",ywEto:"P181031_ywEto__1aOeC",ywDate:"P181031_ywDate__32jUm",ywWn:"P181031_ywWn__1nqhq",ywThisM:"P181031_ywThisM__v-3XE",ywJpMo:"P181031_ywJpMo__2TD_e",ywHday:"P181031_ywHday__lS_Ny",ywFurikae:"P181031_ywFurikae__3B0HP",ywToday:"P181031_ywToday__31WbM","rotate-y-one-turn":"P181031_rotate-y-one-turn__3za_k",ywBot:"P181031_ywBot__26qKE",ywEnd:"P181031_ywEnd__2ejOL","slide-from-left":"P181031_slide-from-left__3ZI96",hideDrawer:"P181031_hideDrawer__29uo2",pulsar:"P181031_pulsar__e2K3R","pulse-ring":"P181031_pulse-ring__B8pSk",tttext:"P181031_tttext__1WbQu",btn:"P181031_btn__nsGC-","blink-background":"P181031_blink-background__1_VqZ","blink-text":"P181031_blink-text__1q3nW","blink-border":"P181031_blink-border__2iO4O","pulse-dot":"P181031_pulse-dot__2hWC_"}},11:function(e,t,a){e.exports=a(20)},17:function(e,t,a){},2:function(e){e.exports={Month:{en:["January","Febrary","March","April","May","June","July","August","September","October","November","December"],fr:["janvier","f\xe9vrier","mars","avril","mai","juin","juillet","ao\xfbt","septembre","octobre","novembre","d\xe9cembre"],sp:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],en3:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],jp:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],jpo:["\u7766\u6708","\u5982\u6708","\u5f25\u751f","\u536f\u6708","\u7690\u6708","\u6c34\u7121\u6708","\u6587\u6708","\u8449\u6708","\u9577\u6708","\u795e\u7121\u6708","\u971c\u6708","\u5e2b\u8d70"],kr:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"]},WeekHeader:{en:["Wk","Su","Mo","Tu","We","Th","Fr","Sa","Mth"],jp:["\u9031","\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f","\u6708"],kr:["\uc8fc","\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0","\uc6d4"],jp6:["\u5148\u52dd","\u53cb\u5f15","\u5148\u8ca0","\u4ecf\u6ec5","\u5927\u5b89","\u8d64\u53e3"]},Gengo:{yr:[1865,1868,1912,1926,1989,2019],jp:["\u6176\u5fdc","\u660e\u6cbb","\u5927\u6b63","\u662d\u548c","\u5e73\u6210","\u4ee4\u548c"],en:["Keio","Meiji","Taisho","Showa","Heisei","Reiwa"]},HY10:{jp:["\u7532","\u4e59","\u4e19","\u4e01","\u620a","\u5df1","\u5e9a","\u8f9b","\u58ec","\u7678"],kun:["\u304d\u306e\u3048","\u304d\u306e\u3068","\u3072\u306e\u3048","\u3072\u306e\u3068","\u3064\u3061\u306e\u3048","\u3064\u3061\u306e\u3068","\u304b\u306e\u3048","\u304b\u306e\u3068","\u307f\u305a\u306e\u3048","\u307f\u305a\u306e\u3068"],kr:["\uac11","\uc744","\ubcd1","\uc815","\ubb34","\uae30","\uacbd","\uc2e0","\uc784","\uacc4"]},HY12:{jp:["\u5b50","\u4e11","\u5bc5","\u536f","\u8fb0","\u5df3","\u5348","\u672a","\u7533","\u9149","\u620c","\u4ea5"],kr:["\uc790","\ucd95","\uc778","\ubb18","\uc9c4","\uc0ac","\uc624","\ubbf8","\uc2e0","\uc720","\uc220","\ud574"],emoji:["\ud83d\udc2d","\ud83d\udc2e","\ud83d\udc2f","\ud83d\udc30","\ud83d\udc32","\ud83d\udc0d","\ud83d\udc34","\ud83d\udc11","\ud83d\udc12","\ud83d\udc14","\ud83d\udc36","\ud83d\udc37"]}}},20:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),i=a.n(o),l=(a(17),a(3)),s=a(4),c=a(5),u=a(7),y=a(6),h=a(8),d=a(1),m=a.n(d),p=a(2),w=function(e){return e%4===0&&e%100!==0||e%400===0},_=function(e,t){switch(e){case 4:case 6:case 9:case 11:return 30;case 2:return w(t)?29:28;default:return 31}},f=function(e,t,a){if(t<1||t>12)return 0;var n=[0,31,59,90,120,151,181,212,243,273,304,334][t-1];return t>2&&w(e)&&n++,n+a},g={min:0,max:32,w:32},b={min:10,max:90,w:80},k=function(e,t){return e<t.min?0:e>t.max?1:Number(((e-t.min)/t.w).toFixed(2))},E=function(e){return k(e,g)},v=function(e){return Number((g.w*e).toFixed(1))},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7,a=e;return a<0?a=0:a>1&&(a=1),"hsla(".concat(Number((240*(1-a)).toFixed(2)),",100%,50%,").concat(t,")")},x=function(e){for(var t=e.bCelsius,a=e.itemName,n=10,o=10,i=5,l=5,s=[],c=[],u={x:2*i+n+20,y:2*l+26+17*o},y=0;y<17;y++){var h=1-y/16;s.push(r.a.createElement("stop",{key:y,offset:100*(1-h)+"%",stopColor:j(h)})),y%4===0&&c.push(r.a.createElement("text",{key:y,x:i+n+1,y:l+26+y*o+Math.floor(o/1.5)},t?v(h)+"\xb0C":Math.floor(100*h)+"%"))}return r.a.createElement("div",null,r.a.createElement("svg",{width:u.x,height:u.y,style:{border:"1px solid Beige",backgroundColor:"Ivory"}},r.a.createElement("text",{x:u.x/2,y:12,fontSize:".8em",textAnchor:"middle"},a[0],r.a.createElement("tspan",{x:u.x/2,y:24,fill:"DarkRed"},a[1])),r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"GradLegend01",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},s)),r.a.createElement("rect",{x:i,y:l+26,width:n,height:17*o,fill:"url(#GradLegend01)"}),r.a.createElement("g",{fontFamily:"Verdana",fontSize:".5em",textAnchor:"left"},c)))},D=function(){return r.a.createElement("tr",null,p.WeekHeader.jp.map(function(e,t){return r.a.createElement("th",{key:t,"data-c":t},e)}))},O=function(e,t,a){fetch(e).then(function(e){var t=e.headers.get("content-type");if(console.log("contentType:",t),t&&t.includes("application/json"))return e.json();throw new TypeError("Oops, no JSON file! ")}).then(t).catch(a)},P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(y.a)(t).call(this,e))).fetchJSONfile=function(e){O("https://soominkimu.github.io/data/"+e,function(e){return a.setState({data:e,isLoading:!1})},function(e){return a.setState({error:e,isLoading:!1})})},a.state={today:new Date,isLoading:!0,data:null},console.log("[".concat(a.props.yr,"] Today:"),a.state.today),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"tick",value:function(){var e=new Date;this.state.today.getDate()!==e.getDate()&&(this.setState(function(t){return{today:e}}),console.log("[".concat(this.props.yr,"] Updated:"),this.state.today))}},{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),this.fetchJSONfile("weather-tokyo-".concat(this.props.yr,".json")),this.timerID=setInterval(function(){return e.tick()},1e3),console.log("DOM count:",document.getElementsByTagName("*").length)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.isLoading,o=t.error;if(o)return r.a.createElement("p",null,o.message);if(n)return r.a.createElement("p",null,"Loading ...");for(var i=function(e,t,n,r){var o,i=f(t,n,r)-1;switch(e){case"High":return j(E(a.High[i]));case"Low":return j(E(a.Low[i]));case"Avg":return j(E(a.Avg[i]));case"Humidity":return j((o=a.Humidity[i],k(o,b)));default:return null}},l=(this.props.yr-4)%10,s=(this.props.yr-4)%12,c=this.props.yr-this.state.today.getFullYear(),u=new Date(this.props.yr,0,1).getDay(),y=[],h=1,d=(31-u)%31+1,w=1===d?1:0,g=31,v=!1,x=this.props.yr===this.state.today.getFullYear(),O=function(t){return x&&t===e.state.today.getMonth()+1},P=x?Math.ceil((f(this.props.yr,this.state.today.getMonth()+1,this.state.today.getDate())+u)/7):0;w<=12;){var N=[],M=0,T=void 0,S=h===P,C=O(w),H=2;for(x?h<=P&&(H=S?1:0):this.props.yr<this.state.today.getFullYear()&&(H=0),N.push(r.a.createElement("td",{key:M,"data-c":M,"data-r":h,"data-tm":H,className:m.a.ywWn},r.a.createElement("div",{className:m.a.ywWn},h))),M=1;M<=7;M++){var W=C?m.a.ywThisM:"",F=!1,Y=null;1===w&&1===d||1===w&&8===d||2===w&&11===d||3===w&&21===d||4===w&&29===d||5===w&&3===d||5===w&&4===d||5===w&&5===d||7===w&&16===d||8===w&&11===d||9===w&&17===d||9===w&&23===d||10===w&&8===d||11===w&&3===d||11===w&&23===d||12===w&&23===d?(W+=W?" "+m.a.ywHday:m.a.ywHday,Y="\u3297\ufe0f\u795d\u65e5",1===M&&(v=!0)):v&&(W+=W?" "+m.a.ywFurikae:m.a.ywFurikae,Y="\u632f\u66ff\u4f11\u65e5",v=!1),S&&d===this.state.today.getDate()&&(F=!0,W+=W?" "+m.a.ywToday:m.a.ywToday,console.log("[".concat(this.props.yr,"] hit today at col=").concat(M,":"))),d>=g-6&&(W+=W?" "+m.a.ywBot:m.a.ywBot,d===g&&(W+=W?" "+m.a.ywEnd:m.a.ywEnd));var I=null;if(this.props.weather){var J=i(this.props.weather,this.props.yr,w,d);J&&(I={backgroundColor:J})}N.push(r.a.createElement("td",Object.assign({key:M.toString(),"data-c":M,"data-r":h,"data-m":w},W?{className:W}:null,I?{style:I}:null),F?r.a.createElement("div",{id:m.a.pulsar}):null,Y?r.a.createElement("span",{id:m.a.tttext},Y):null,r.a.createElement("div",{className:m.a.ywDate},d))),1===d&&(T=!0),++d>g&&(d=1,g=_(++w,this.props.yr),C=O(w))}T&&w<=12&&(N.push(r.a.createElement("td",Object.assign({key:M,"data-c":M,"data-m":1===d?w-1:w,"data-qtr":Math.ceil(w/3)},C?{className:m.a.ywThisM}:null,{rowSpan:Math.trunc((g-d+1)/7+1)}),p.Month.jp[w-1],r.a.createElement("br",null),r.a.createElement("span",{className:m.a.ywJpMo},p.Month.jpo[w-1]),r.a.createElement("br",null),p.Month.en3[w-1])),T=!1),y.push(r.a.createElement("tr",{key:h.toString()},N)),h++}return r.a.createElement("table",{className:m.a.ywFullyear,style:this.props.style},r.a.createElement("caption",{"data-year":this.props.yr,"data-yr-diff":c>0?"+"+c:c},r.a.createElement("span",{className:m.a.ywYear},this.props.yr),r.a.createElement("span",{className:m.a.ywYrDiff},0===c?"\u4eca\u5e74":c>0?"".concat(c,"\u5e74\u5f8c"):"".concat(-c,"\u5e74\u524d")),r.a.createElement("span",{className:m.a.ywEto},p.HY12.emoji[s]),r.a.createElement("br",null),r.a.createElement("span",{className:m.a.ywGengo},function(e){for(var t=p.Gengo.yr.length-1;t>=0;t--)if(e>=p.Gengo.yr[t])return p.Gengo.jp[t]+(e-p.Gengo.yr[t]+1);return e}(this.props.yr)),r.a.createElement("span",{className:m.a.yw60},p.HY10.jp[l]+p.HY12.jp[s],r.a.createElement("span",{className:m.a.yw60kun},"(",p.HY10.kun[l],")"))),r.a.createElement("thead",null,r.a.createElement(D,null)),r.a.createElement("tbody",null,y))}}]),t}(r.a.Component),N=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(y.a)(t).call(this,e))).state={isToggleOn:!0,weatherID:0},a.handleClick=a.handleClick.bind(Object(l.a)(a)),a.handleClickWeather=a.handleClickWeather.bind(Object(l.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(){this.setState(function(e){return{isToggleOn:!e.isToggleOn}})}},{key:"handleClickWeather",value:function(){this.setState(function(e){return{weatherID:(e.weatherID+1)%5}})}},{key:"render",value:function(){var e=(new Date).getFullYear(),t={transform:"translateX(-205%)",opacity:.2},a=["Avg","High","Low","Humidity",null][this.state.weatherID];return r.a.createElement("div",null,r.a.createElement("button",{className:m.a.btn,onClick:this.handleClick,style:{width:"100px",cursor:"pointer"}},this.state.isToggleOn?"Hide":"Show"),r.a.createElement("button",{className:m.a.btn,onClick:this.handleClickWeather,style:{width:"100px",cursor:"pointer"}},a||"No weather"),r.a.createElement("div",{className:m.a.P181031},r.a.createElement(P,{yr:e-1,weather:a,style:this.state.isToggleOn?null:t}),r.a.createElement(P,{yr:e,weather:a,style:this.state.isToggleOn?null:t}),this.state.isToggleOn&&4!==this.state.weatherID&&r.a.createElement(x,{bCelsius:3!==this.state.weatherID,itemName:[["\u5e73\u5747","\u6c17\u6e29"],["\u6700\u9ad8","\u6c17\u6e29"],["\u6700\u4f4e","\u6c17\u6e29"],["\u5e73\u5747","\u6e7f\u5ea6"]][this.state.weatherID]})))}}]),t}(r.a.Component),M=function(){return r.a.createElement(N,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,2,1]]]);
//# sourceMappingURL=main.14cfde98.chunk.js.map