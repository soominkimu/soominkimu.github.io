{"version":3,"sources":["util-ui.js","util-math.js","effects.js","ani-neon.js","clock-pb.js","articles.js","App.js","serviceWorker.js","index.js"],"names":["useWindowSize","getWs","w","window","innerWidth","h","innerHeight","_useState3","useState","_useState4","Object","slicedToArray","winSize","setWinSize","handleWindowResize","useEffect","addEventListener","removeEventListener","title","isSafari","console","log","ua","navigator","userAgent","toLowerCase","indexOf","detectBrowser","τ","Math","PI","floor","abs","sin","cos","tan","sign","sqrt","pow","min","max","round","trunc","random","randomInt","max_1","randomRange","v","p","vF","arguments","length","undefined","Number","isInteger","parseFloat","toFixed","StarryNight","props","width","height","others","objectWithoutProperties","canvasRef","useRef","bufCvsRef","document","createElement","bufCvs","current","bufW","buf","getContext","alpha","randomHue","arr","stars","i","beginPath","arc","fillStyle","concat","fill","canvas","ctx","createPattern","fillRect","react_default","a","ref","style","objectSpread","position","left","top","BackDrop","_useState","_useState2","backId","setBackId","back","id","transition","background","zIndex","onDoubleClick","effects_StarryNight","visibility","substring","transParam","anidef","transform","aniCombi","combination","factor","factorSafari","mixBlendMode","AniNeonColors","_ref","rEl","ani","R","className","map","f","q","colors","color","key","--ra","xR","dr","--cl","--t","t","--bm","ClockProgBar","dt","dow","hrs","datetime","setDatetime","dateFormatMemo","useMemo","date","dtS","slice","data-w","dateFormat","Fragment","clock_pb_TimeTick","hourly","nH","PB","TimeTick","rLastHour","React","TF","getDatetime","Date","tm","toLocaleTimeString","hour12","hour","minute","second","toLocaleDateString","weekday","day","month","year","getDay","getHours","hourlyFire","callback","delay","savedCallback","setInterval","clearInterval","useInterval","ArticlesList","prop","art","articles","items","bullet","ceil","now","getTime","data-b","href","url","App","rEA","ws","cY","setAniCombi","ac","setStyle","setAttribute","scale","opacity","ref0","ref1","effects_BackDrop","articles_ArticlesList","onMouseEnter","onMouseLeave","clock_pb_ClockProgBar","ani_neon_AniNeonColors","type","onClick","Boolean","location","hostname","match","ReactDOM","render","src_App","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"orCA0BaA,EAAgB,WAC3B,IACMC,EAAQ,iBAAO,CACnBC,EAAGC,OAAOC,WACVC,EAAGF,OAAOG,cAJqBC,EAMHC,mBAASP,KANNQ,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAM1BK,EAN0BH,EAAA,GAMjBI,EANiBJ,EAAA,GAO3BK,EAAqB,kBAAMD,EAAWZ,MAQ5C,OANAc,oBAAU,WAER,OADAZ,OAAOa,iBATM,SASmBF,GACzB,kBAAMX,OAAOc,oBAVP,SAUmCH,KAE/C,IAEIF,GAkLF,IAxNkBM,EAkOZC,EAA+B,IAVf,WAC3BC,QAAQC,IAAI,mBACZ,IAAMC,EAAKC,UAAUC,UAAUC,cAC/B,OAA8B,IAA1BH,EAAGI,QAAQ,UACLJ,EAAGI,QAAQ,WAAa,EAAK,EAAI,EACvCJ,EAAGI,QAAQ,WACN,GACD,EAGcC,UChOXC,EAAe,EAARC,KAAKC,GA0BZC,GAzBOF,KAAKC,GACLD,KAAKC,GACLD,KAAKC,GAUJD,KAAKG,IACLH,KAAKI,IACLJ,KAAKK,IACLL,KAAKM,IACLN,KAAKO,KACLP,KAAKQ,KACLR,KAAKS,IACLT,KAAKR,IAELQ,KAAKU,IACLV,KAAKW,IACLX,KAAKY,MACLZ,KAAKa,MACLb,KAAKE,OACbY,EAASd,KAAKc,OAEdC,EAAc,SAAAC,GAAK,OAAId,EAAOY,IAAWE,IACzCC,EAAc,SAACP,EAAKQ,EAAGC,GAAT,OAAeC,EAAIV,EAAMQ,EAAIJ,IAAUK,IAGrDC,EAAK,SAACF,GAAD,IAAIC,EAAJE,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAM,EAAN,OAAYG,OAAOC,UAAUP,GAAKA,EAAIQ,WAAWR,EAAES,QAAQR,KC5BhES,EAAc,SAAAC,GAAS,IAC1BC,EAA6BD,EAA7BC,MAAOC,EAAsBF,EAAtBE,OAAWC,EADQnD,OAAAoD,EAAA,EAAApD,CACGgD,EADH,oBAE5BK,EAAYC,iBAAO,MACnBC,EAAYD,iBAAOE,SAASC,cAAc,WA6BhD,OA3BApD,oBAAU,WACR,IACMqD,EAASH,EAAUI,QACzBD,EAAOT,MAASW,IAChBF,EAAOR,OAASU,IAOhB,IANA,IAAMC,EAAMH,EAAOI,WAAW,KAAM,CAAEC,OAAO,IAEvCC,EAAY,kBDcOC,ECdc,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,MDc7B5C,EAAOY,IAASgC,EAAIxB,SAA/B,IAAAwB,GCbnBC,EAAQ,IAAMhC,EAAW,KAGtBiC,EAAE,EAAGA,EAAID,EAAOC,IACvBN,EAAIO,YACJP,EAAIQ,IAAInC,EAZG,KAYgBA,EAZhB,KAYmCE,EAAY,GAAI,GAAI,GAAI,EAAGlB,GACzE2C,EAAIS,UAAJ,QAAAC,OAAwBP,IAAxB,KAAAO,OAAuC,GAAKrC,EAAW,IAAvD,UAAAqC,OAAoEnC,EAAY,GAAI,GAAM,GAA1F,KACAyB,EAAIW,OAEN9D,QAAQC,IAAR,GAAA4D,OAAeL,EAAf,wBAAAK,OAA2CX,IAA3C,KAAAW,OAAqDX,IAArD,eACC,IAEHvD,oBAAU,WACR,IAAMoE,EAASpB,EAAUM,QACnBe,EAAMD,EAAOX,WAAW,MAC9BY,EAAIJ,UAAYI,EAAIC,cAAcpB,EAAUI,QAAS,UACrDe,EAAIE,SAAS,EAAG,EAAGH,EAAOxB,MAAOwB,EAAOvB,SACvC,CAACD,EAAOC,IAGT2B,EAAAC,EAAArB,cAAA,UAAQsB,IAAK1B,EAAWJ,MAAOA,EAAOC,OAAQA,EAC5C8B,MAAKhF,OAAAiF,EAAA,EAAAjF,CAAA,CACHkF,SAAU,WACVC,KAAM,EACNC,IAAM,GACHjC,MAQEkC,EAAW,SAAArC,GAAS,IAAAsC,EACHxF,mBAAS,GADNyF,EAAAvF,OAAAC,EAAA,EAAAD,CAAAsF,EAAA,GACxBE,EADwBD,EAAA,GAChBE,EADgBF,EAAA,GAEzBG,EAAO,CACX,QACA,UACA,UACA,0BACA,0BACA,2BAEIC,EAAKH,EAASE,EAAKjD,OAEzB,OACEoC,EAAAC,EAAArB,cAAA,OAAKuB,MAAO,CACRE,SAAW,WACXjC,MAAYD,EAAMC,MAClBC,OAAYF,EAAME,OAClB0C,WAAY,gBACZC,WAAYH,EAAKC,GACjBG,OAAY,OAEdC,cAAe,kBAAMN,EAAUD,EAAS,KAExCX,EAAAC,EAAArB,cAACuC,EAAD,CAAa/C,MAAOD,EAAMC,MAAOC,OAAQF,EAAME,OAClC+C,WAAyC,QAA5BP,EAAKC,GAAIO,UAAU,EAAE,GAAgB,SAAW,qBC5EnEC,EAAaC,EAAOC,UACpBC,EAAaF,EAAOG,YAE3BC,EAAe/F,EAAW2F,EAAOK,aAAeL,EAAOI,OACvDE,EAAejG,EAAW,cAAWiC,EA8B9BiE,EAAgB,SAAAC,GAAA,IAAEC,EAAFD,EAAEC,IAAKC,EAAPF,EAAOE,IAAKC,EAAZH,EAAYG,EAAZ,OAC3BlC,EAAAC,EAAArB,cAAA,OAAKsB,IAAK8B,EAAKG,UAAU,MACtBR,EAAOS,IAAK,SAACC,EAAGC,GAAJ,OACXD,EAAEE,OAAOH,IAAK,SAACI,EAAOlD,GAAR,OACZU,EAAAC,EAAArB,cAAA,OAAKuD,UAAWF,EAAKQ,IAAO,GAAFH,EAAOhD,EAC/Ba,MAAS,CACPuC,OAASpG,KAAKE,MAAM0F,EAAIG,EAAEM,IAAMN,EAAEO,GAAKtD,EAAK,KAC5CuD,OAAQL,EACRM,MAAST,EAAEU,EAAIzD,EAAK,IACpB0D,OAAQnB,WC5CPoB,EAAe,WAAM,IAAAxC,EACAxF,mBAAS,CAACiI,GAAG,GAAIC,IAAI,EAAGC,IAAI,IAD5B1C,EAAAvF,OAAAC,EAAA,EAAAD,CAAAsF,EAAA,GACzB4C,EADyB3C,EAAA,GACf4C,EADe5C,EAAA,GAsB1B6C,EAAiBC,kBAAQ,kBAnBZ,SAACC,EAAMN,GACxB,IAAIO,EAAMD,EAAKE,MAAM,EAAE,GAGvB,OAFAD,GAAUD,EAAKE,MAAM,EAAE,IACvB9H,QAAQC,IAAI,aAAc4H,GACnB1D,EAAAC,EAAArB,cAAA,QAAMuD,UAAU,MAAMyB,SAAQT,GAAMO,GAgB3CG,CAAWR,EAASH,GAAIG,EAASF,MAAM,CAACE,EAASH,GAAIG,EAASF,MAEhE,OACEnD,EAAAC,EAAArB,cAAAoB,EAAAC,EAAA6D,SAAA,KACE9D,EAAAC,EAAArB,cAACmF,EAAD,CACEC,OAVe,SAAAX,GACnBC,EAAYD,MAURrD,EAAAC,EAAArB,cAAA,WACD2E,EAAevD,EAAAC,EAAArB,cAAA,WAChBoB,EAAAC,EAAArB,cArBkB,SAAAmD,GAAU,IAARkC,EAAQlC,EAARkC,GAChBC,EAAK,mJAEX,OADArI,QAAQC,IAAI,gBAAiBmI,GACtBjE,EAAAC,EAAArB,cAAA,OAAKuD,UAAU,OAClBnC,EAAAC,EAAArB,cAAA,QAAMuD,UAAU,MAAM+B,EAAGP,MAAM,EAAGM,IAAYC,EAAGP,MAAM,EAAG,GAAGM,KAiB/D,CAAeA,GAAIZ,EAASD,QAK5Be,EAAW,SAAAhG,GAAS,IAChB6F,EAAW7F,EAAX6F,OACFI,EAAYC,IAAM5F,OAAO,MAEzB6F,EACK,QADLA,EAEK,UAFLA,EAGK,QAELC,EAAc,eAACd,EAAD9F,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAQ,IAAI6G,KAAZ,MAAwB,CAC1CC,GAAIhB,EAAKiB,mBAAmBJ,EAC1B,CACEK,QAAQ,EACRC,KAAQN,EACRO,OAAQP,EACRQ,OAAQR,IAIZpB,GAAIO,EAAKsB,mBAAmBT,EAC1B,CACEU,QAASV,EACTW,IAASX,EACTY,MAASZ,EACTa,KAASb,IAGbnB,IAAKM,EAAK2B,SACVhC,IAAKK,EAAK4B,aA5BYrK,EA8BQC,mBAASsJ,KA9BjBrJ,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GA8BjBqI,EA9BiBnI,EAAA,GA8BPoI,EA9BOpI,EAAA,GAgClBoK,EAAa,WACjBtB,GAAUA,EAAOX,GACjBe,EAAUtF,QAAUuE,EAASD,KAiB/B,OAdA5H,oBAAU,WACR8H,EAAYiB,KACZe,IACAzJ,QAAQC,IAAI,+BAEX,IJuFE,SAAqByJ,EAAUC,GACpC,IAAMC,EAAgBhH,mBAGtBjD,oBAAU,WACRiK,EAAc3G,QAAUyG,GACvB,CAACA,IAGJ/J,oBAAU,WAIR,GAAc,OAAVgK,EAAgB,CAClB,IAAM1E,EAAK4E,YAJb,WACED,EAAc3G,WAGe0G,GAC7B,OAAO,kBAAMG,cAAc7E,MAE5B,CAAC0E,IItGJI,CAAY,WACVtC,EAAYiB,KACRH,EAAUtF,UAAYuE,EAASD,KACjCkC,KAED,KAGDtF,EAAAC,EAAArB,cAAA,QAAMuD,UAAU,OAAOkB,EAASoB,YCxFvBoB,EAAe,SAAAC,GAC1B,IAAMC,EAAMC,EAASC,MAEfC,EAAS,SAAAzC,GACb,IAAMP,EAAK,IAAIsB,KAAKf,GAEpB,OADiBnH,KAAK6J,MAAQ3B,KAAK4B,MAAQlD,EAAGmD,WAAlB,OACb,GAAW,SACA,mBAG5B,OACErG,EAAAC,EAAArB,cAAA,OAAKuD,UAAU,WACbnC,EAAAC,EAAArB,cAAA,UACGmH,EAAI3D,IAAK,SAACnC,EAAGX,GAAJ,OAAUU,EAAAC,EAAArB,cAAA,MAAI6D,IAAKnD,EAAGgH,SAAQJ,EAAOjG,EAAEwD,OAAOzD,EAAAC,EAAArB,cAAA,KAAG2H,KAAMtG,EAAEuG,KAAMvG,EAAEtE,WAE7EqE,EAAAC,EAAArB,cAAA,SAAGoB,EAAAC,EAAArB,cAAA,oBAAH,yDLfmBjD,EMQf,YNNRE,QAAQC,IAAI,6KAAmCH,EAAQ,wCACvDE,QAAQC,IAAI,mJAAiC0I,QAC7C3I,QAAQC,IAAI,qLM2EC2K,MA9Df,WACE,IAAMC,EAAM,CACVjI,iBAAO,MACPA,iBAAO,OAGHkI,EAAKlM,IAELyH,EAAKyE,EAAGhM,EAAI,IAAO,GAAK,GAExBiM,EAAY,GAAPD,EAAG7L,EAIR+L,EAAc,SAAAC,GAClB,IAAMC,EAAW,SAAC/E,EAAKvE,GAAN,OACfuE,EAAIlD,QAAQkI,aAAa,QAAzB,oBAAAtH,OAAsDjC,EAAEwJ,MAAxD,eAAAvH,OAA2EjC,EAAEyJ,QAA7E,OAEFH,EAASL,EAAI,GAAIpF,EAAWwF,EAAGK,OAC/BJ,EAASL,EAAI,GAAIpF,EAAWwF,EAAGM,QAgBjC,OAFAvL,QAAQC,IAAI,eAGVkE,EAAAC,EAAArB,cAAA,OAAKuD,UAAU,OACbnC,EAAAC,EAAArB,cAACyI,EAAD,CAAUjJ,MAAOuI,EAAGhM,EAAG0D,OAAQsI,EAAG7L,IAClCkF,EAAAC,EAAArB,cAAC0I,EAAD,MACAtH,EAAAC,EAAArB,cAAA,OAAKuD,UAAU,KAAKhC,MAAO,CAACqB,UAAS,cAAA9B,OAAgBkH,EAAhB,SACnC5G,EAAAC,EAAArB,cAAA,OAAKuD,UAAU,MACbnC,EAAAC,EAAArB,cAAA,OAAKuD,UAAU,KAAKhC,MAAO,CAAC+G,QAAS,GACnCK,aAAc,kBAAIV,EAAYpF,EAAS,KACvC+F,aAAc,kBAAIX,EAAYpF,EAAS,MAEvCzB,EAAAC,EAAArB,cAAA,OAAKuD,UAAU,OAAOhC,MAAO,CAACuC,OAAQR,EAAI,OACxClC,EAAAC,EAAArB,cAAA,OAAKuB,MAAO,CAACqB,UAAS,cAAA9B,OAAgBpD,KAAKE,MAAU,GAAJ0F,GAA3B,SACpBlC,EAAAC,EAAArB,cAAC6I,EAAD,MAAgBzH,EAAAC,EAAArB,cAAA,WAChBoB,EAAAC,EAAArB,cAAA,QAAMuD,UAAU,OAAhB,YAA+BnC,EAAAC,EAAArB,cAAA,QAAMuD,UAAU,QAAhB,MAAsCnC,EAAAC,EAAArB,cAAA,WACrEoB,EAAAC,EAAArB,cAAA,QAAMuD,UAAU,OAAhB,WAA8BnC,EAAAC,EAAArB,cAAA,QAAMuD,UAAU,QAAhB,UAIpCnC,EAAAC,EAAArB,cAAC8I,EAAD,CAAe1F,IAAK0E,EAAI,GAAIzE,IAAI,MAAMC,EAAGA,IACzClC,EAAAC,EAAArB,cAAC8I,EAAD,CAAe1F,IAAK0E,EAAI,GAAIzE,IAAI,MAAMC,EAAGA,MAG7ClC,EAAAC,EAAArB,cAlCa,kBACfoB,EAAAC,EAAArB,cAAA,OAAKuD,UAAU,WACVhC,MAAO,CAACqB,UAAS,cAAA9B,OAAgBkH,EAAS,EAAJ1E,EAArB,SAChBT,EAASW,IAAK,SAAC0E,EAAIxH,GAAL,OACbU,EAAAC,EAAArB,cAAA,UAAQ6D,IAAKnD,EAAGqI,KAAK,SAASxF,UAAU,WACtCyF,QAAS,kBAAIf,EAAYC,UA6BhC,QCjEce,QACW,cAA7BjN,OAAOkN,SAASC,UAEe,UAA7BnN,OAAOkN,SAASC,UAEhBnN,OAAOkN,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAAOlI,EAAAC,EAAArB,cAACuJ,EAAD,MAASxJ,SAASyJ,eAAe,SD2H3C,kBAAmBpM,WACrBA,UAAUqM,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.293928a2.chunk.js","sourcesContent":["// util-ui.js\nimport React, { useState, useEffect, useRef } from 'react';\n\nexport const copyright = title => {\n// ASCII ART: http://patorjk.com/software/taag/#p=display&f=Graffiti&t=Type%20Something%20\n  console.log(\"╔═╗┌─┐┌─┐┌─┐┌─┐┌┬┐┬┌┬┐┌─┐╔═╗  \" + title + \" - contact: dev.spacetimeq@gmail.com\");\n  console.log(\"╚═╗├─┘├─┤│  ├┤  │ ││││├┤ ║═╬╗\", Date());\n  console.log(\"╚═╝┴  ┴ ┴└─┘└─┘ ┴ ┴┴ ┴└─┘╚═╝╚ (C)2019 SpacetimeQ Inc, CA 94583\");\n};\n\n// reacts only to the width change\nexport const useWindowWidth = () => {\n  const RESIZE = 'resize';\n  const [winWidth, setWinWidth] = useState(window.innerWidth);\n  const handleWindowResize = () => setWinWidth(window.innerWidth);\n\n  useEffect(() => {\n    window.addEventListener(RESIZE, handleWindowResize);\n    return () => window.removeEventListener(RESIZE, handleWindowResize);\n  }, []);\n\n  return winWidth;\n}\n\n// reacts to both width and height changes\n// aspect ration = w / h; Portrait (asp <= 1) Landscape (asp > 1)\nexport const useWindowSize = () => {\n  const RESIZE = 'resize';\n  const getWs = () => ({\n    w: window.innerWidth,\n    h: window.innerHeight\n  });\n  const [winSize, setWinSize] = useState(getWs());\n  const handleWindowResize = () => setWinSize(getWs());\n\n  useEffect(() => {\n    window.addEventListener(RESIZE, handleWindowResize);\n    return () => window.removeEventListener(RESIZE, handleWindowResize);\n    // eslint-disable-next-line\n  }, []);\n\n  return winSize;\n}\n/*\n// Usage\nfunction App() {\n  // Call our hook for each key that we'd like to monitor\n  const happyPress = useKeyPress('h');\n  const sadPress = useKeyPress('s');\n  const robotPress = useKeyPress('r');\n  const foxPress = useKeyPress('f');\n\n  return (\n    <div>\n      <div>h, s, r, f</div>\n      <div>\n        {happyPress && '😊'}\n        {sadPress && '😢'}\n        {robotPress && '🤖'}\n        {foxPress && '🦊'}\n      </div>\n    </div>\n  );\n}\n*/\n\n// Hook\n// left, up, right, down = 37, 38, 39, 40\nexport function useKeyPress(targetKey) {\n  // State for keeping track of whether key is pressed\n  const [keyPressed, setKeyPressed] = useState(false);\n\n  // If pressed key is our target key then set to true\n  function downHandler({ key }) {\n    if (key === targetKey) {\n      setKeyPressed(true);\n    }\n  }\n\n  // If released key is our target key then set to false\n  const upHandler = ({ key }) => {\n    if (key === targetKey) {\n      setKeyPressed(false);\n    }\n  };\n\n  // Add event listeners\n  useEffect(() => {\n    window.addEventListener('keydown', downHandler);\n    window.addEventListener('keyup', upHandler);\n    // Remove event listeners on cleanup\n    return () => {\n      window.removeEventListener('keydown', downHandler);\n      window.removeEventListener('keyup', upHandler);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []); // Empty array ensures that effect is only run on mount and unmount\n\n  return keyPressed;\n}\n\n// Mouse / TrackPad Event Handlers Wrapper\n// props.render should be provided, that handles changed x, y position\nexport const EventMove = props => {\n  const { render, ...others }      = props;\n  const [mousedown,  setMouseDown] = useState(false);\n  const [mouse,      setMouse]     = useState({x: 0, y: 0});\n\n  const _moveStart = ev => {\n    const p = (ev.type === 'touchstart') ?\n      {x: ev.touches[0].pageX,\n       y: ev.touches[0].pageY} :\n      {x: ev.clientX,\n       y: ev.clientY};\n    setMouseDown(true);\n    setMouse(p);\n  }\n\n  const _move = ev => {\n    if (mousedown) {\n      const p = (ev.type === 'touchmove') ?\n        {x: ev.touches[0].pageX,\n         y: ev.touches[0].pageY} :\n        {x: ev.clientX,\n         y: ev.clientY};\n      props.render(p.x - mouse.x, p.y - mouse.y);  // Render Props\n      setMouse(p);\n    }\n  }\n\n  const _moveEnd = () => { setMouseDown(false); }\n    \n  const handleMouseDown = ev => { _moveStart(ev); }\n  const handleMouseMove = ev => { _move(ev); }\n  const handleMouseUp   = ev => { _moveEnd(); }\n\n  const handleTouchStart = ev => {\n    ev.preventDefault();\n    ev.stopPropagation();\n    _moveStart(ev);\n  }\n\n  const handleTouchMove = ev => {\n    ev.preventDefault();\n    ev.stopPropagation();  // seems not working\n    ev.nativeEvent.stopImmediatePropagation();\n    _move(ev);\n  }\n  const handleTouchEnd = () => {\n    _moveEnd();\n  }\n\n  return (\n    <div\n      onMouseUp    = {handleMouseUp}\n      onMouseMove  = {handleMouseMove}\n      onMouseDown  = {handleMouseDown}\n      onTouchStart = {handleTouchStart}\n      onTouchMove  = {handleTouchMove}\n      onTouchEnd   = {handleTouchEnd}\n      {...others}\n    >\n      {props.children}\n    </div>\n  );\n}\n\n// https://overreacted.io/making-setinterval-declarative-with-react-hooks/\nexport function useInterval(callback, delay) {\n  const savedCallback = useRef();\n\n  // Remember the latest callback\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      const id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}\n\n// 05/10/2019 by Soomin\n// Idle time CPU usage: 2% WTH?\nexport function useAnimationFrame(callback, delay) {\n  const savedCallback = useRef();\n  // const [lastTs, setLastTs] = useState(0);  // lastTs remained 0 in the tick loop even though setLastTs(ts) called.\n  const lastTs = useRef(0);  // returned object will persist for the full lifetime of the component\n\n  // Remember the latest callback\n  useEffect(() => {\n    //console.log(callback);\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval\n  useEffect(() => {\n    let frameId;\n\n    const tick = ts => {  // loop called repeatedly by rAF\n      if (ts - lastTs.current >= delay) {\n        //console.log(ts, lastTs.current, ts - lastTs.current);\n        lastTs.current = ts;\n        savedCallback.current();\n      }\n      frameId = requestAnimationFrame(tick);\n    }\n    tick(0);  // called once at the start\n    return () => cancelAnimationFrame(frameId);\n  }, [delay]);\n}\n\n// 0: Chrome, 1: Safari, 2: Firefox\nexport const detectBrowser = () => {\n  console.log(\"detectBrowser()\");\n  const ua = navigator.userAgent.toLowerCase();\n  if (ua.indexOf('safari') !== -1)\n    return (ua.indexOf('chrome') > -1) ? 0 : 1;\n  if (ua.indexOf('firefox'))\n    return 2;\n  return -1;\n}\n\nexport const isSafari = detectBrowser() === 1;\n","// Math definitions: Just for readability\n// https://github.com/d3/d3-geo/blob/master/src/math.js\n\n// consider degeneracy and robustness\n\nexport const τ    = Math.PI*2;\nexport const π    = Math.PI;\nexport const π_2  = Math.PI/2;\nexport const π_4  = Math.PI/4;\nexport const ε    = 1e-6;      // a small threshold value for the floating point computation\nexport const ε2   = 1e-12;\n\nexport const deg360 = 360;         // declare the special degree as the constant, name it.\nexport const deg180 = 180;\nexport const deg90  = 90;\nexport const degrees = deg180 / π;\nexport const radians = π / deg180;\nexport const π_2xdegrees = deg90;  // π/2 x degrees\nexport const abs   = Math.abs;\nexport const sin   = Math.sin;\nexport const cos   = Math.cos;\nexport const tan   = Math.tan;\nexport const sign  = Math.sign;\nexport const sqrt  = Math.sqrt;\nexport const pow   = Math.pow;\nexport const log   = Math.log;\n\nexport const min   = Math.min;\nexport const max   = Math.max;\nexport const round = Math.round;\nexport const trunc = Math.trunc;\nexport const floor = Math.floor;\nexport const random = Math.random;  // range [0, 1) never returns 1\n\nexport const randomInt   = max_1 => floor( random() * max_1 );  // range [0, max-1]\nexport const randomRange = (min, v, p) => vF( min + v * random(), p );\nexport const randomElement = arr => arr[floor( random()*arr.length )];\n\nexport const vF = (v, p=3) => Number.isInteger(v) ? v : parseFloat(v.toFixed(p));  // fixed digit number with precision=p\n\nexport const zero    = v => abs(v) < ε;        // is virtually zero?\nexport const epsilon = v => zero(v) ? 0 : v;   // reduce an infinitesimal number to zero\n\n// to avoid NaN for the invalid domain ranges\nexport const asin = x => x > 1 ? π/2 : x < -1  ? -π/2 : Math.asin(x);\nexport const acos = x => x > 1 ? 0   : x < -1  ? π    : Math.acos(x);\n\n// https://en.wikipedia.org/wiki/Haversine_formula\nexport const haversin = x => (x = sin(x/2))*x;\nexport const range = (x, r1, r2) => min(max(x, r1), r2);  // let r1 ≦ x ≦ r2\n\n","import React, { useState, useRef, useEffect } from 'react';\nimport {\n  randomRange, randomInt, randomElement, τ\n} from './util-math';\n\n// Actually, we don't have to regenerate the pattern for each screen resize.\n// If we can save the result, just repaint with the same pattern for the new screen.\n// UPDATE: Generate stars pattern only once, and reuse the pattern for each window resizing response\n//         Separate useEffect\n// - alpha should be set true to show the background color changes. And :root { background: black; }.\nexport const StarryNight = props => {\n  const { width, height, ...others } = props;\n  const canvasRef = useRef(null);  // React will set .current property to the corresponding DOM node\n  const bufCvsRef = useRef(document.createElement('canvas'));  // to persist between renders\n\n  useEffect(() => {  // Offscreen buffer canvas\n    const bufW = 301;\n    const bufCvs = bufCvsRef.current;  // texture buffer canvas\n    bufCvs.width  = bufW - 1;\n    bufCvs.height = bufW - 1;\n    const buf = bufCvs.getContext('2d', { alpha: true });  // no transparent, to optimize rendering\n\n    const randomHue = () => randomElement( [0, 30, 60, 90, 120, 180, 240] );  // colors\n    const stars = 300 + randomInt( 200 );\n\n    //buf.clearRect(0, 0, bufCvs.width, bufCvs.height);  // If repeated the pattern will be accumulated\n    for (let i=0; i < stars; i++) {\n      buf.beginPath();\n      buf.arc(randomInt( bufW ), randomInt( bufW ), randomRange(.1, .9, 2), 0, τ);\n      buf.fillStyle = `hsla(${randomHue()},${50 + randomInt( 50 )}%,88%,${randomRange(.4, 1-.4, 2)})`;\n      buf.fill();  // fill() was faster than stroke()\n    }\n    console.log(`${stars} stars generated in ${bufW-1}x${bufW-1} pattern.`);\n  }, []); // initialize only once\n\n  useEffect(() => {  // On screen canvas\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d'); //, { alpah: false });\n    ctx.fillStyle = ctx.createPattern(bufCvsRef.current, 'repeat');  // create pattern from bufCvs canvas in ctx\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n  }, [width, height]);  // only when size changes\n\n  return (\n    <canvas ref={canvasRef} width={width} height={height}\n      style={{\n        position: 'absolute',\n        left: 0,\n        top : 0,\n        ...others  // visiblity works only in style object\n      }}\n    />\n  );\n}\n\n// When showing images just hide <StarryNight /> with visibility to prevent destroying it that will be costly.\n// image files should be in ../public/images/\nexport const BackDrop = props => {\n  const [backId, setBackId] = useState(0);\n  const back = [\n    \"Black\",\n    \"#000032\",\n    \"#191970\",  // MidnightBlue\n    \"url('images/back1.jpg')\",\n    \"url('images/back2.jpg')\",\n    \"url('images/back3.jpg')\",\n  ];\n  const id = backId % back.length;\n\n  return (\n    <div style={{\n        position:  'absolute',\n        width:      props.width,\n        height:     props.height,\n        transition: 'background 2s',\n        background: back[id],\n        zIndex:     '-10'\n      }}\n      onDoubleClick={() => setBackId(backId + 1)}\n    >\n      <StarryNight width={props.width} height={props.height}\n                   visibility={(back[id].substring(0,3) === 'url') ? 'hidden' : 'visible'} />\n    </div>\n  );\n}\n","import React        from 'react';\nimport { isSafari } from './util-ui';\nimport anidef       from './anidef.json'; // edit this file to change colors\n\nexport const transParam = anidef.transform;\nexport const aniCombi   = anidef.combination;\n\nconst factor       = isSafari ? anidef.factorSafari : anidef.factor;\nconst mixBlendMode = isSafari ? 'screen' : undefined;  // or 'normal'\n// Animation Variations - combinations of the following:\n// 1. Color Set [rainbow, blues]\n// 2. Two classes with different CSS animations\n\n/*  Structure of anidef.json\n{\n\"transform\": [  // transform parameters\n  {\"scale\": 1, \"opacity\": 1},\n],\n\"combination\": [ // combination of transform parameters for each animation object (<div> elements)\n  {\"ref0\": 0, \"ref1\": 0},  // ref0 and ref1 refer to the two animation objects\n],\n\"factor\": [  // different set of factors: for example, factor[0] inner circle, factor[1] outer circle\n  { \"xR\": 1.3, \"dr\": 2, \"t\": 3,\n    \"colors\":\n  [ \"rgb(0,  0,  128)\", ...\n  ]\n  },\n  { \"xR\": 1.5, \"dr\": 3, \"t\": 40,\n    \"colors\":\n  [ \"rgba(148,0,211,.3)\", ...\n  ]\n  }\n],\n}\n*/\n\n// This is the body of the animation object\n// that can be referenced through rEl (ref to the DOM element)\nexport const AniNeonColors = ({rEl, ani, R}) =>\n  <div ref={rEl} className=\"l1\">\n    {factor.map( (f, q) =>\n      f.colors.map( (color, i) =>\n        <div className={ani} key={q*10 + i}\n          style = {{\n            '--ra': (Math.floor(R * f.xR) + f.dr * i) + 'px',\n            '--cl': color,\n            '--t' : (f.t + i) + 's',\n            '--bm': mixBlendMode\n          }}\n        /> )\n      )\n    }\n  </div>;\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { useInterval }   from './util-ui';\n\nexport const ClockProgBar = () => {\n  const [datetime, setDatetime] = useState({dt:\"\", dow:1, hrs:0});\n\n  const dateFormat = (date, dow) => {\n    let dtS = date.slice(0,3);\n    dtS    += date.slice(4,14);\n    console.log(\"dateFormat\", dtS);\n    return <span className=\"dtf\" data-w={dow}>{dtS}</span>;\n  }\n\n  const ProgressHours = ({nH}) => {\n    const PB = '■■■■■■■■■■■■■■■■■■■■■■■■'; // ASCII 254 ■ x 24\n    console.log(\"progressHours\", nH);\n    return <div className=\"pgb\">\n        <span className=\"on\">{PB.slice(0, nH)}</span>{PB.slice(0, 24-nH)}\n      </div>;\n  }\n\n  const handleHourly = datetime => {\n    setDatetime(datetime);\n  }\n\n  const dateFormatMemo = useMemo(() =>\n    dateFormat(datetime.dt, datetime.dow), [datetime.dt, datetime.dow]);  // update dayly\n\n  return (\n    <>\n      <TimeTick\n        hourly={handleHourly}\n      /><br/>\n      {dateFormatMemo}<br/>\n      <ProgressHours nH={datetime.hrs}/>\n    </>\n  );\n}\n\nconst TimeTick = props => {\n  const { hourly } = props;\n  const rLastHour = React.useRef(null);  // last tick\n\n  const TF = {  // Time Format\n    en     : \"en-US\",   // en-US, ja-JP, ko-KR, \n    numeric: \"numeric\",\n    short  : \"short\",\n  };\n  const getDatetime = (date = new Date()) => ({  // return an object\n    tm: date.toLocaleTimeString(TF.en,\n      {\n        hour12: false,\n        hour  : TF.numeric,\n        minute: TF.numeric,\n        second: TF.numeric,\n        //timeZoneName: TF.short,\n        //timeZone: 'America/Los_Angeles'\n      }),\n    dt: date.toLocaleDateString(TF.en,\n      {\n        weekday: TF.short,\n        day    : TF.numeric,\n        month  : TF.numeric,\n        year   : TF.numeric, \n        //timeZone: 'America/Los_Angeles'\n      }),\n    dow: date.getDay(),   // Sun - Sat: 0 - 6\n    hrs: date.getHours()  // 0..23\n  });\n  const [datetime, setDatetime] = useState(getDatetime());  // initial setting\n\n  const hourlyFire = () => {\n    hourly && hourly(datetime);\n    rLastHour.current = datetime.hrs;\n  }\n\n  useEffect(() => {  // initial fire\n    setDatetime(getDatetime());\n    hourlyFire();\n    console.log(\"useEffect for initial fire\")\n// eslint-disable-next-line\n  }, []);\n\n  useInterval(() => {\n    setDatetime(getDatetime());\n    if (rLastHour.current !== datetime.hrs) {  // initially lastH is null, so it works\n      hourlyFire();\n    }\n  }, 1000);\n\n  return (\n    <span className=\"tmf\">{datetime.tm}</span>\n  );\n}\n\n/*\n  const dateFormatMemo    = useMemo(() => dateFormat(datetime.dt, datetime.dow), [datetime.dt, datetime.dow]);\n  const progressHoursMemo = useMemo(() => progressHours(datetime.hrs), [datetime.hrs]);\n*/\n","import React       from 'react';\nimport articles    from './articles.json';\n\nexport const ArticlesList = prop => {\n  const art = articles.items;\n\n  const bullet = date => {\n    const dt = new Date(date);\n    const diffDays = Math.ceil( ( Date.now() - dt.getTime() ) / (1000*60*60*24) );\n    if (diffDays > 30) return \"✨\";\n    else               return \"HOT🔥\";\n  }\n\n  return (\n    <div className=\"artlist\">\n      <ul>\n        {art.map( (a, i) => <li key={i} data-b={bullet(a.date)}><a href={a.url}>{a.title}</a></li> )}\n      </ul>\n      <p><span>Tips</span> Double Click to change the background scene.</p>\n    </div>\n  );\n}\n","import React, { useRef } from 'react';\nimport { copyright,\n         useWindowSize } from './util-ui';\nimport { BackDrop }      from './effects';\nimport { AniNeonColors,\n         transParam,\n         aniCombi }      from './ani-neon';\nimport { ClockProgBar }  from './clock-pb';\nimport { ArticlesList }  from './articles';\nimport './App.scss';\n\ncopyright(\"Logo v0.3\");\n\n/*\n * Basically we have two classes of animations defined in css:\n * animation classes: \"ani1\": ani-cloud, \"ani2\": ani-hair\n * And then, three types of transforms (scale and opacity) are applied to each of the two animations\n * with the combinations defined in anidef.json file.\n*/\n\nfunction App() {\n  const rEA = [   // imperative control of DOM, not to re-render (in order to kepp CSS animation)\n    useRef(null), // ref to the two DOM <div> elements that contain the colors animation objects\n    useRef(null)  // that differ in CSS animation\n  ];\n\n  const ws = useWindowSize();\n\n  const R = (ws.w < 400) ? 76 : 90;  // check only once at the start\n  // onClick={()=>void(0)}  // mobile Safari hover\n  const cY = ws.h * .5;\n  \n  // requires \"transform\" in anidef.json (parameters for the transform)\n  // should be applied on the wrapper <div> and not on the CSS animation layer (so that not to override transfrom)\n  const setAniCombi = ac => {  // Direct DOM manipulation without rendering\n    const setStyle = (rEl, p) =>\n      rEl.current.setAttribute(\"style\", `transform: scale(${p.scale}); opacity:${p.opacity};`);\n\n    setStyle(rEA[0], transParam[ac.ref0]);\n    setStyle(rEA[1], transParam[ac.ref1]);\n  }\n\n  // requires \"combination\" in anidef.json: variations of the transform parameters (indexed)\n  const Controls = () =>\n    <div className=\"btn-cont\"\n         style={{transform: `translateY(${cY + R * 3}px)`}}>\n         {aniCombi.map( (ac, i) =>\n           <button key={i} type=\"button\" className=\"test-btn\"\n             onClick={()=>setAniCombi(ac)}\n           /> )\n         }\n    </div>;\n\n  console.log(\"App::render\");\n\n  return (\n    <div className=\"App\">\n      <BackDrop width={ws.w} height={ws.h} />\n      <ArticlesList />\n      <div className=\"l3\" style={{transform: `translateY(${cY}px)`}}>\n        <div className=\"l2\">\n          <div className=\"l1\" style={{opacity: 1}}\n            onMouseEnter={()=>setAniCombi(aniCombi[1])}\n            onMouseLeave={()=>setAniCombi(aniCombi[0])}\n          >\n            <div className=\"ctxt\" style={{'--ra': R + 'px'}}>\n              <div style={{transform: `translateY(${Math.floor(R * .5)}px)`}}>\n                <ClockProgBar /><br/>\n                <span className=\"stq\">Spacetime<span className=\"tail\">Q</span></span><br/>\n                <span className=\"s3d\">Symbolic<span className=\"tail\">3D</span></span>\n              </div>\n            </div>\n          </div>\n          <AniNeonColors rEl={rEA[0]} ani=\"ca1\" R={R} />\n          <AniNeonColors rEl={rEA[1]} ani=\"ca2\" R={R} />\n        </div>\n      </div>\n      <Controls />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}